## 23 部署 Java 网站

```
wget https://download.oracle.com/otn/java/jdk/7u80-b15/jdk-7u80-linux-x64.tar.gz?AuthParam=15555491494_9f57610fb0c84418f58ad1b9bc5a3be6

wget http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.94/bin/apache-tomcat-7.0.94.tar.gz
```

tomcat

```
FROM centos
MAINTAINER zhufengjiagou
ADD jdk-7u80-linux-x64.tar.gz /usr.local
ENV JAVA_HOME /usr/local/jdk1.7.0_80
ADD apache-tomcat-7.0.94.tar.gz /usr/local
COPY server.xml /usr/local/apache/conf
RUN rm -f /usr/local/*.tar.gz
WORKDIR /usr/local/apache-tomcat-7.0.94
EXPOSE 8080
ENTRYPOINT ['./bin/catalina.sh','run']
```

```
docker image build -t tomcat:v1 -f Dockerfile
```

```
docker run -itd \
--name=tomcat
-p 8080:8080
--mount type=bind,src=/app/webapps,dst=/usr/local/apache-tomcat-7.0.94/webapps \tomcat:v1
```
